# ğŸŒ Spost - ä½ç½®æƒ…å ±ãƒ™ãƒ¼ã‚¹ã®ãƒŸãƒ‹ãƒãƒ«SNS

ä½ç½®æƒ…å ±ã‚’æ´»ç”¨ã—ãŸã‚·ãƒ³ãƒ—ãƒ«ãªã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚è¿‘ãã®æŠ•ç¨¿ã‚’ç™ºè¦‹ã—ã€è‡ªåˆ†ã®å ´æ‰€ã‹ã‚‰æŠ•ç¨¿ã‚’å…±æœ‰ã§ãã¾ã™ã€‚

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Flutter** - ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª
- **Firebase Auth** - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- **Riverpod** - çŠ¶æ…‹ç®¡ç†
- **Geolocator** - ä½ç½®æƒ…å ±å–å¾—
- **Dio** - HTTPé€šä¿¡

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **NestJS** - Node.jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Prisma ORM** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ORM
- **PostgreSQL + PostGIS** - åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Firebase Admin SDK** - ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Supabase** - PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPostGISæ‹¡å¼µï¼‰
- **Firebase** - èªè¨¼ãƒ»ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- **Render** - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆé–‹ç™ºï¼‰
- **Railway** - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼ˆæœ¬ç•ªï¼‰

## ğŸ“± æ©Ÿèƒ½

### ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã®ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
- Firebase Authã«ã‚ˆã‚‹å®‰å…¨ãªèªè¨¼
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

### æŠ•ç¨¿æ©Ÿèƒ½
- ä½ç½®æƒ…å ±ä»˜ãæŠ•ç¨¿ä½œæˆ
- ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹ã®å…¥åŠ›
- è‡ªå‹•ä½ç½®æƒ…å ±å–å¾—
- æŠ•ç¨¿ä¸€è¦§è¡¨ç¤º

### ä½ç½®æƒ…å ±
- ç¾åœ¨åœ°ã®è‡ªå‹•å–å¾—
- PostGISã«ã‚ˆã‚‹åœ°ç†ç©ºé–“ã‚¯ã‚¨ãƒª
- è¿‘ãã®æŠ•ç¨¿è¡¨ç¤ºï¼ˆæº–å‚™ä¸­ï¼‰

## ğŸ› ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18+
- Flutter 3.0+
- PostgreSQLï¼ˆSupabaseæ¨å¥¨ï¼‰
- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone <repository-url>
cd Spost
```

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd spost_backend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ï¼š
```env
DATABASE_URL="postgresql://username:password@host:port/database"
FIREBASE_PROJECT_ID="your-firebase-project-id"
FIREBASE_PRIVATE_KEY="your-firebase-private-key"
FIREBASE_CLIENT_EMAIL="your-firebase-client-email"
```

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx prisma migrate dev

# Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ
npx prisma generate

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run start:dev
```

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd spost_frontend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
flutter pub get

# Firebaseè¨­å®š
# firebase_options.dartã‚’ç”Ÿæˆã™ã‚‹ã‹ã€æ‰‹å‹•ã§è¨­å®š
```

`lib/firebase_options.dart`ã‚’è¨­å®šï¼ˆFirebase CLIã§ç”Ÿæˆæ¨å¥¨ï¼‰

```bash
# ã‚¢ãƒ—ãƒªèµ·å‹•
flutter run
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼ˆSupabaseï¼‰

1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
2. PostGISæ‹¡å¼µã‚’æœ‰åŠ¹åŒ–ï¼š
```sql
CREATE EXTENSION IF NOT EXISTS postgis;
```
3. æ¥ç¶šæ–‡å­—åˆ—ã‚’`.env`ã«è¨­å®š

### 5. Firebaseè¨­å®š

1. Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
2. Authenticationã§ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã‚’æœ‰åŠ¹åŒ–
3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
4. è¨­å®šã‚’ç’°å¢ƒå¤‰æ•°ã«è¿½åŠ 

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
Spost/
â”œâ”€â”€ spost_backend/          # NestJS ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/          # èªè¨¼é–¢é€£
â”‚   â”‚   â”œâ”€â”€ posts/         # æŠ•ç¨¿API
â”‚   â”‚   â”œâ”€â”€ firebase/      # Firebaseè¨­å®š
â”‚   â”‚   â””â”€â”€ prisma/        # Prismaè¨­å®š
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ spost_frontend/         # Flutter ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ providers/     # RiverpodçŠ¶æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ screens/       # UIç”»é¢
â”‚   â”‚   â””â”€â”€ main.dart
â”‚   â””â”€â”€ pubspec.yaml
â””â”€â”€ README.md
```

## ğŸ”§ é–‹ç™º

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º
```bash
cd spost_backend
npm run start:dev    # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run build        # ãƒ“ãƒ«ãƒ‰
npm run start:prod   # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º
```bash
cd spost_frontend
flutter run          # ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œ
flutter build web    # Webãƒ“ãƒ«ãƒ‰
flutter build apk    # Androidãƒ“ãƒ«ãƒ‰
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
```bash
cd spost_backend
npx prisma studio    # Prisma Studioèµ·å‹•
npx prisma migrate dev  # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx prisma generate     # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆRenderï¼‰
1. Renderã§æ–°ã—ã„Web Serviceã‚’ä½œæˆ
2. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶š
3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
4. ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰: `npm install && npm run build`
5. èµ·å‹•ã‚³ãƒãƒ³ãƒ‰: `npm run start:prod`

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆFirebase Hostingï¼‰
```bash
cd spost_frontend
flutter build web
firebase deploy
```

## ğŸ“Š APIä»•æ§˜

### èªè¨¼
- `POST /auth/verify` - Firebaseãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼

### æŠ•ç¨¿
- `GET /posts` - æŠ•ç¨¿ä¸€è¦§å–å¾—
- `POST /posts` - æ–°è¦æŠ•ç¨¿ä½œæˆ
- `GET /posts/nearby` - è¿‘ãã®æŠ•ç¨¿å–å¾—ï¼ˆæº–å‚™ä¸­ï¼‰

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ãƒ•ã‚©ãƒ¼ã‚¯ã‚’ä½œæˆ
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼**
```bash
# PostGISæ‹¡å¼µãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
npx prisma db push
```

**Firebaseèªè¨¼ã‚¨ãƒ©ãƒ¼**
- Firebaseè¨­å®šãŒæ­£ã—ã„ã‹ç¢ºèª
- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®å½¢å¼ã‚’ç¢ºèª

**ä½ç½®æƒ…å ±ã‚¨ãƒ©ãƒ¼**
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ä½ç½®æƒ…å ±æ¨©é™ã‚’ç¢ºèª
- HTTPSç’°å¢ƒã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã‹ç¢ºèª

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€GitHubã®Issuesã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚
