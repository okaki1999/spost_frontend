ã‚ãªãŸã¯ã€Flutterã¨NestJSã‚’ä½¿ã£ã¦ã€**ä½ç½®æƒ…å ±ãƒ™ãƒ¼ã‚¹ã®æœ€å°æ§‹æˆSNSã‚¢ãƒ—ãƒª**ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

---
ğŸ¯ **æ©Ÿèƒ½è¦ä»¶ï¼ˆMVP / åˆæœŸæ§‹æˆï¼‰**

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼**
   - Firebase Authï¼ˆåŒ¿å or SNSãƒ­ã‚°ã‚¤ãƒ³ï¼‰
   - ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã€NestJS ã« Bearer Token ã§æ¸¡ã™
   - NestJS å´ã§ã¯ Firebase Admin SDK ã‚’ä½¿ã£ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼ˆuid, emailãªã©ï¼‰ã‚’å–å¾—ãƒ»ä¿å­˜

2. **ãƒã‚¹ãƒˆæŠ•ç¨¿æ©Ÿèƒ½**
   - æŠ•ç¨¿ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ã‚’å«ã‚ã‚‹ï¼š
     - ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆtextï¼‰
     - æœ¬æ–‡ï¼ˆtextï¼‰
     - æŠ•ç¨¿ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ID
     - ç·¯åº¦ï¼ˆlatitudeï¼‰ãƒ»çµŒåº¦ï¼ˆlongitudeï¼‰
     - ä½œæˆæ—¥æ™‚
   - Flutterã§ç¾åœ¨åœ°å–å¾—ï¼ˆ`geolocator`ï¼‰ã—ã€ãƒ•ã‚©ãƒ¼ãƒ ã¨ä¸€ç·’ã«APIã¸POST
   - NestJSå´ã§ã¯PostgreSQL + Prismaã‚’ä½¿ã£ã¦ä¿å­˜
   - `location`ã‚«ãƒ©ãƒ ã¯ `PostGIS` ã® `geometry(Point, 4326)` å‹

3. **æŠ•ç¨¿ä¸€è¦§ï¼ˆåŠå¾„10mä»¥å†…ï¼‰**
   - Flutterå´ã§ç¾åœ¨åœ°ã‚’å–å¾—ã—ã€NestJS APIã¸ `/posts?lat=...&lng=...` ã®å½¢å¼ã§GETãƒªã‚¯ã‚¨ã‚¹ãƒˆ
   - NestJSã§ã¯ `ST_DWithin()` ã‚’ä½¿ã£ã¦ã€ã€Œ10ãƒ¡ãƒ¼ãƒˆãƒ«ä»¥å†…ã€ã®æŠ•ç¨¿ã ã‘ã‚’DBã‹ã‚‰å–å¾—ã—ã¦è¿”ã™

     ```sql
     SELECT * FROM posts
     WHERE ST_DWithin(
       location::geography,
       ST_MakePoint(:lng, :lat)::geography,
       10
     );
     ```

---

ğŸ§° **ä½¿ç”¨æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**

| ãƒ‘ãƒ¼ãƒ„ | æŠ€è¡“ |
|--------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Flutterï¼ˆDartï¼‰, Riverpod, Dio, Geolocator |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | NestJSï¼ˆTypeScriptï¼‰, Firebase Admin SDK, Prisma |
| èªè¨¼ | Firebase Authï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹ï¼‰ |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | PostgreSQLï¼ˆ+ PostGISï¼‰ |
| APIé€šä¿¡ | REST APIï¼ˆNestJSã®ControllerçµŒç”±ï¼‰ |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | Railway / Fly.ioï¼ˆNestJSï¼‰, Supabase / Neonï¼ˆDBï¼‰ |

---

ğŸ“¦ **ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ä¾‹ï¼ˆPrismaï¼‰**

```ts
model Post {
  id        String   @id @default(uuid())
  title     String
  body      String
  userId    String
  createdAt DateTime @default(now())
  location  Unsupported("geometry(Point,4326)") // PostGISå¯¾å¿œ
}
